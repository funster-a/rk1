# üîÑ –ü–µ—Ä–µ—Ö–æ–¥ —Å KAPT –Ω–∞ KSP

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å KAPT

KAPT (Kotlin Annotation Processing Tool) –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:
- `NoSuchMethodError` - –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- –ü—Ä–æ–±–ª–µ–º—ã —Å Java 17+

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: KSP (Kotlin Symbol Processing)

KSP - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ KAPT:
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ KAPT –≤ 2 —Ä–∞–∑–∞
- ‚úÖ –õ—É—á—à–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Kotlin –∏ Java
- ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Google
- ‚úÖ Room –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç KSP

## üîß –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

1. ‚úÖ –ó–∞–º–µ–Ω–µ–Ω –ø–ª–∞–≥–∏–Ω `kotlin-kapt` –Ω–∞ `com.google.devtools.ksp`
2. ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `kapt()` –Ω–∞ `ksp()` –¥–ª—è Room compiler
3. ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ KAPT
4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ KSP –¥–ª—è Room —Å—Ö–µ–º

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Gradle daemon:**
   - –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: `./gradlew --stop`
   - –ò–ª–∏ –∑–∞–∫—Ä–æ–π—Ç–µ Android Studio

2. **–û—á–∏—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   - Build ‚Üí Clean Project
   - –ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫—É `.gradle` –∏ `app/build`

3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   - File ‚Üí Sync Project with Gradle Files
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ KSP –ø–ª–∞–≥–∏–Ω–∞

4. **–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   - Build ‚Üí Rebuild Project

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö:

### `app/build.gradle.kts`
```kotlin
// –ë—ã–ª–æ:
plugins {
    id("kotlin-kapt")
}
kapt("androidx.room:room-compiler:2.6.1")

// –°—Ç–∞–ª–æ:
plugins {
    id("com.google.devtools.ksp") version "1.9.0-1.0.13"
}
ksp("androidx.room:room-compiler:2.6.1")
```

### `build.gradle.kts`
–î–æ–±–∞–≤–ª–µ–Ω KSP –ø–ª–∞–≥–∏–Ω –≤ –∫–æ—Ä–Ω–µ–≤–æ–π build.gradle.kts

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ KSP:

- **–°–∫–æ—Ä–æ—Å—Ç—å**: –í 2 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ KAPT
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ Java
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- **–ë—É–¥—É—â–µ–µ**: KAPT —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç, KSP - —ç—Ç–æ –±—É–¥—É—â–µ–µ

## üéâ –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞:

–ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫! KSP –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å Room –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ KAPT (–Ω–∞–ø—Ä–∏–º–µ—Ä, Dagger, DataBinding), –∏—Ö —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ KSP –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å KAPT —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∏—Ö.

